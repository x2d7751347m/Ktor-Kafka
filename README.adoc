= Ktor web & websocket sample

== Swagger ui
http://127.0.0.1:8080

... If running on a local server

http://localhost:8080

== Kafka topic console
http://127.0.0.1:9080

... If running on a local server

http://localhost:9080

== How to tune

. Change parameters in `src/main/resources`
. Set aws environmental variables and github actions secrets in `.github/workflows/aws.yml`
. Run kafka server infrastructure using `docker compose up`

[source,bash]
.docker compose up command
----
docker compose up
----


== Architecture

=== Cloud Architecture of AWS ECS with ALB
image::Cloud Architecture of AWS ECS with ALB.jpg[]

=== Producers and consumers writing and reading events from Kafka topics ( /messages/{group} )
image::kafka-producers-consumers-topics.jpg[]

/chat consists of connections only within one server.

=== Ci/cd pipeline
image::aws_architecture.jpg[]

== Database's table columns
image::Db Table.PNG[]

== How to use
. Post a user
. Login via /login path to acquire `Authorization` key
. Set `Authorization` key to `Authorization` header
. Now you can access every apis!

=== Notice
.../admins/... paths can only be accessed by admins(set your role to `ADMIN`.)

== Example

Youtube video link


